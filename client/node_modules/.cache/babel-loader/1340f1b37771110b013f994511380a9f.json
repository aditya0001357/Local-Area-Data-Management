{"ast":null,"code":"import _slicedToArray from\"C:/Users/singh/Downloads/Local-Area-Website-DBMS--main/Local-Area-Website-DBMS--main/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useEffect,useState}from'react';import Card from'../components/card/Card';import Sidenav from'../components/navbar/SideNav';import axios from'axios';import queryString from'query-string';function Persons(_ref){var location=_ref.location;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),persons=_useState2[0],setPersons=_useState2[1];var _queryString$parse=queryString.parse(location.search),id=_queryString$parse.id,admin=_queryString$parse.admin;useEffect(function(){axios.get('http://localhost:4000/persons').then(function(res){setPersons(res.data);console.log(res.data);}).catch(function(err){console.log(err);});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"person-page\",children:[/*#__PURE__*/_jsx(Sidenav,{Pid:id,admin:admin,showUserIcon:true}),/*#__PURE__*/_jsx(\"div\",{style:{marginLeft:'75px',display:'flex',justifyContent:'space-around',flexWrap:'wrap'},children:persons.map(function(person){return/*#__PURE__*/_jsx(Card,{img:person.SEX?person.SEX:null,one:\"Name: \"+person.NAME,two:person.EMAIL.toLowerCase(),three:person.SEX?\"Sex: \"+person.SEX:null,four:person.BDATE?\"Born on: \"+person.BDATE.toString().substring(0,10):null,five:person.SALARY?\"Salary: $\"+person.SALARY:null});})})]});}export default Persons;","map":{"version":3,"sources":["C:/Users/singh/Downloads/Local-Area-Website-DBMS--main/Local-Area-Website-DBMS--main/client/src/screens/persons.js"],"names":["React","useEffect","useState","Card","Sidenav","axios","queryString","Persons","location","persons","setPersons","parse","search","id","admin","get","then","res","data","console","log","catch","err","marginLeft","display","justifyContent","flexWrap","map","person","SEX","NAME","EMAIL","toLowerCase","BDATE","toString","substring","SALARY"],"mappings":"0SAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,IAAP,KAAiB,yBAAjB,CACA,MAAOC,CAAAA,OAAP,KAAoB,8BAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,cAAxB,CAGA,QAASC,CAAAA,OAAT,MAA+B,IAAZC,CAAAA,QAAY,MAAZA,QAAY,eAGGN,QAAQ,CAAC,EAAD,CAHX,wCAGpBO,OAHoB,eAGXC,UAHW,sCAILJ,WAAW,CAACK,KAAZ,CAAkBH,QAAQ,CAACI,MAA3B,CAJK,CAInBC,EAJmB,oBAInBA,EAJmB,CAIfC,KAJe,oBAIfA,KAJe,CAO3Bb,SAAS,CAAC,UAAM,CACZI,KAAK,CAACU,GAAN,CAAU,+BAAV,EACKC,IADL,CACU,SAAAC,GAAG,CAAI,CACTP,UAAU,CAACO,GAAG,CAACC,IAAL,CAAV,CACAC,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACC,IAAhB,EACH,CAJL,EAKKG,KALL,CAKW,SAAAC,GAAG,CAAI,CACVH,OAAO,CAACC,GAAR,CAAYE,GAAZ,EACH,CAPL,EAQH,CATQ,CASN,EATM,CAAT,CAYA,mBACI,aAAK,SAAS,CAAC,aAAf,wBACI,KAAC,OAAD,EAAS,GAAG,CAAET,EAAd,CAAkB,KAAK,CAAEC,KAAzB,CAAgC,YAAY,CAAE,IAA9C,EADJ,cAEI,YAAK,KAAK,CAAE,CAAES,UAAU,CAAE,MAAd,CAAsBC,OAAO,CAAE,MAA/B,CAAuCC,cAAc,CAAE,cAAvD,CAAuEC,QAAQ,CAAE,MAAjF,CAAZ,UACKjB,OAAO,CAACkB,GAAR,CAAY,SAACC,MAAD,CAAY,CAErB,mBACI,KAAC,IAAD,EACI,GAAG,CAAEA,MAAM,CAACC,GAAP,CAAaD,MAAM,CAACC,GAApB,CAA0B,IADnC,CAEI,GAAG,CAAE,SAAWD,MAAM,CAACE,IAF3B,CAGI,GAAG,CAAEF,MAAM,CAACG,KAAP,CAAaC,WAAb,EAHT,CAII,KAAK,CAAEJ,MAAM,CAACC,GAAP,CAAa,QAAUD,MAAM,CAACC,GAA9B,CAAoC,IAJ/C,CAKI,IAAI,CAAED,MAAM,CAACK,KAAP,CAAe,YAAcL,MAAM,CAACK,KAAP,CAAaC,QAAb,GAAwBC,SAAxB,CAAkC,CAAlC,CAAqC,EAArC,CAA7B,CAAwE,IALlF,CAMI,IAAI,CAAEP,MAAM,CAACQ,MAAP,CAAgB,YAAcR,MAAM,CAACQ,MAArC,CAA8C,IANxD,EADJ,CASH,CAXA,CADL,EAFJ,GADJ,CAsBH,CAED,cAAe7B,CAAAA,OAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Card from '../components/card/Card'\r\nimport Sidenav from '../components/navbar/SideNav';\r\nimport axios from 'axios';\r\nimport queryString from 'query-string'\r\n\r\n\r\nfunction Persons({ location }) {\r\n\r\n\r\n    const [persons, setPersons] = useState([]);\r\n    const { id, admin } = queryString.parse(location.search);\r\n\r\n\r\n    useEffect(() => {\r\n        axios.get('http://localhost:4000/persons')\r\n            .then(res => {\r\n                setPersons(res.data);\r\n                console.log(res.data);\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n            })\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <div className=\"person-page\">\r\n            <Sidenav Pid={id} admin={admin} showUserIcon={true} />\r\n            <div style={{ marginLeft: '75px', display: 'flex', justifyContent: 'space-around', flexWrap: 'wrap' }} >\r\n                {persons.map((person) => {\r\n\r\n                    return (\r\n                        <Card\r\n                            img={person.SEX ? person.SEX : null}\r\n                            one={\"Name: \" + person.NAME}\r\n                            two={person.EMAIL.toLowerCase()}\r\n                            three={person.SEX ? \"Sex: \" + person.SEX : null}\r\n                            four={person.BDATE ? \"Born on: \" + person.BDATE.toString().substring(0, 10) : null}\r\n                            five={person.SALARY ? \"Salary: $\" + person.SALARY : null}\r\n                        />)\r\n                })\r\n                }\r\n\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons;"]},"metadata":{},"sourceType":"module"}