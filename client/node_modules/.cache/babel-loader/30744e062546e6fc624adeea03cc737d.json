{"ast":null,"code":"import _slicedToArray from\"C:/Users/singh/Downloads/Local-Area-Website-DBMS--main/Local-Area-Website-DBMS--main/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useEffect,useState}from'react';import'bootstrap/dist/css/bootstrap.min.css';import Form from'react-bootstrap/Form';import Modal from'react-bootstrap/Modal';import Button from'@material-ui/core/Button';import Axios from'axios';import{useSnackbar}from'notistack';function SchoolInfoAdd(props){var _useSnackbar=useSnackbar(),enqueueSnackbar=_useSnackbar.enqueueSnackbar;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),schools=_useState2[0],setSchools=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),selectedSchoolId=_useState4[0],setSchoolId=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),from_std=_useState6[0],setFrom_std=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),to_std=_useState8[0],setTo_std=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),from_year=_useState10[0],setFrom_year=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),to_year=_useState12[0],setTo_year=_useState12[1];var handleClose=function handleClose(){props.close();};useEffect(function(){Axios.get('http://localhost:4000/schools').then(function(res){setSchools(res.data);}).catch(function(err){enqueueSnackbar(\"Error occured\",{variant:'error'});});},[]);var handleSubmit=function handleSubmit(){if(selectedSchoolId===''||from_std===''||to_std===''||from_year===''||to_year===''){// alert('please fill the complete details');\nenqueueSnackbar(\"Please fill details completely\",{variant:'warning'});}else if(parseInt(from_std)>=parseInt(to_std)){enqueueSnackbar(\"Please fill std details correctly\",{variant:'warning'});}else if(parseInt(from_year)>=parseInt(to_year)){enqueueSnackbar(\"Please fill year details correctly\",{variant:'warning'});}else{props.close();Axios.post('http://localhost:4000/schooladd',{Pid:props.Pid,school_id:selectedSchoolId,from_std:parseInt(from_std),to_std:parseInt(to_std),from_year:parseInt(from_year),to_year:parseInt(to_year)}).then(function(res){if(res.data==='ERROR'){// alert('Adding of School Unsuccesfull');\nenqueueSnackbar(\"Duplicate Information not Allowed\",{variant:'error'});}else{// console.log(res);\n// alert('school added succesfully');\nprops.update(res.data);enqueueSnackbar(\"Added Succesflly\",{variant:'success'});}}).catch(function(err){enqueueSnackbar(\"Error occured\",{variant:'error'});});}};return/*#__PURE__*/_jsxs(Modal,{show:props.show,onHide:handleClose,\"aria-labelledby\":\"contained-modal-title-vcenter\",style:{marginTop:\"40px\"},children:[/*#__PURE__*/_jsx(Modal.Header,{children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Add your school details\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Select your School\"}),/*#__PURE__*/_jsxs(Form.Control,{name:\"school\",as:\"select\",onChange:function onChange(e){return setSchoolId(e.target.value);},children:[schools.map(function(school){return/*#__PURE__*/_jsx(\"option\",{value:school.SCHOOL_ID,children:school.SCHOOL_ID+\"  \"+school.NAME});}),/*#__PURE__*/_jsx(\"option\",{selected:true,value:'',children:\"Select\"})]})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Mention your std\"}),/*#__PURE__*/_jsx(Form.Control,{name:\"from_std\",placeholder:\"From\",value:from_std,type:\"text\",onChange:function onChange(e){return setFrom_std(e.target.value);}}),/*#__PURE__*/_jsx(Form.Control,{name:\"to_std\",placeholder:\"To\",value:to_std,type:\"text\",onChange:function onChange(e){return setTo_std(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Mention the year of study\"}),/*#__PURE__*/_jsx(Form.Control,{name:\"from_year\",placeholder:\"From\",value:from_year,type:\"text\",onChange:function onChange(e){return setFrom_year(e.target.value);}}),/*#__PURE__*/_jsx(Form.Control,{name:\"to_year\",placeholder:\"To\",value:to_year,type:\"text\",onChange:function onChange(e){return setTo_year(e.target.value);}})]})]})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{color:\"secondary\",onClick:handleClose,children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{color:\"primary\",onClick:handleSubmit,children:\"Submit\"})]})]});}export default SchoolInfoAdd;","map":{"version":3,"sources":["C:/Users/singh/Downloads/Local-Area-Website-DBMS--main/Local-Area-Website-DBMS--main/client/src/components/modal/SchoolInfoAdd.js"],"names":["React","useEffect","useState","Form","Modal","Button","Axios","useSnackbar","SchoolInfoAdd","props","enqueueSnackbar","schools","setSchools","selectedSchoolId","setSchoolId","from_std","setFrom_std","to_std","setTo_std","from_year","setFrom_year","to_year","setTo_year","handleClose","close","get","then","res","data","catch","err","variant","handleSubmit","parseInt","post","Pid","school_id","update","show","marginTop","e","target","value","map","school","SCHOOL_ID","NAME"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport Form from 'react-bootstrap/Form'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Button from '@material-ui/core/Button'\r\nimport Axios from 'axios';\r\nimport { useSnackbar } from 'notistack';\r\n\r\n\r\nfunction SchoolInfoAdd(props) {\r\n    const { enqueueSnackbar } = useSnackbar();\r\n\r\n    const [schools, setSchools] = useState([]);\r\n    const [selectedSchoolId, setSchoolId] = useState('');\r\n    const [from_std, setFrom_std] = useState('');\r\n    const [to_std, setTo_std] = useState('');\r\n    const [from_year, setFrom_year] = useState('');\r\n    const [to_year, setTo_year] = useState('');\r\n\r\n    const handleClose = () => {\r\n        props.close();\r\n    }\r\n\r\n    useEffect(() => {\r\n        Axios.get('http://localhost:4000/schools')\r\n            .then(res => {\r\n                setSchools(res.data);\r\n            })\r\n            .catch(err => {\r\n                enqueueSnackbar(\"Error occured\", { variant: 'error' });\r\n            })\r\n    }, [])\r\n\r\n    const handleSubmit = () => {\r\n\r\n        if (selectedSchoolId === '' || from_std === '' || to_std === '' || from_year === '' || to_year === '') {\r\n            // alert('please fill the complete details');\r\n            enqueueSnackbar(\"Please fill details completely\", { variant: 'warning' });\r\n        }\r\n        else if(parseInt(from_std)>=parseInt(to_std)){\r\n            enqueueSnackbar(\"Please fill std details correctly\", { variant: 'warning' });\r\n        }\r\n        else if(parseInt(from_year)>=parseInt(to_year)){\r\n            enqueueSnackbar(\"Please fill year details correctly\", { variant: 'warning' });\r\n        }\r\n        else {\r\n            props.close();\r\n            Axios.post('http://localhost:4000/schooladd', {\r\n                Pid: props.Pid,\r\n                school_id: selectedSchoolId,\r\n                from_std: parseInt(from_std),\r\n                to_std: parseInt(to_std),\r\n                from_year: parseInt(from_year),\r\n                to_year: parseInt(to_year)\r\n            })\r\n                .then(res => {\r\n                    if (res.data === 'ERROR') {\r\n                        // alert('Adding of School Unsuccesfull');\r\n                        enqueueSnackbar(\"Duplicate Information not Allowed\", { variant: 'error' });\r\n                    }\r\n                    else {\r\n                        // console.log(res);\r\n                        // alert('school added succesfully');\r\n                        props.update(res.data);\r\n                        enqueueSnackbar(\"Added Succesflly\", { variant: 'success' });\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    enqueueSnackbar(\"Error occured\", { variant: 'error' });\r\n                })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Modal show={props.show} onHide={handleClose} aria-labelledby=\"contained-modal-title-vcenter\" style={{ marginTop: \"40px\" }}>\r\n            <Modal.Header>\r\n                <Modal.Title>Add your school details</Modal.Title>\r\n            </Modal.Header>\r\n\r\n            <Modal.Body>\r\n                <Form>\r\n                    <Form.Group>\r\n                        <Form.Label>Select your School</Form.Label>\r\n                        <Form.Control name=\"school\" as='select' onChange={(e) => setSchoolId(e.target.value)}>\r\n                            {schools.map(school => {\r\n                                return (\r\n                                    <option value={school.SCHOOL_ID}>{school.SCHOOL_ID + \"  \" + school.NAME}</option>\r\n                                )\r\n                            })}\r\n                            <option selected value={''}>Select</option>\r\n                        </Form.Control>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group>\r\n                        <Form.Label>Mention your std</Form.Label>\r\n                        <Form.Control name=\"from_std\" placeholder=\"From\" value={from_std} type=\"text\" onChange={(e) => setFrom_std(e.target.value)} />\r\n                        <Form.Control name=\"to_std\" placeholder=\"To\" value={to_std} type=\"text\" onChange={(e) => setTo_std(e.target.value)} />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group>\r\n                        <Form.Label>Mention the year of study</Form.Label>\r\n                        <Form.Control name=\"from_year\" placeholder=\"From\" value={from_year} type=\"text\" onChange={(e) => setFrom_year(e.target.value)} />\r\n                        <Form.Control name=\"to_year\" placeholder=\"To\" value={to_year} type=\"text\" onChange={(e) => setTo_year(e.target.value)} />\r\n                    </Form.Group>\r\n                </Form>\r\n            </Modal.Body>\r\n\r\n            <Modal.Footer>\r\n                <Button color=\"secondary\" onClick={handleClose}>Cancel</Button>\r\n                <Button color=\"primary\" onClick={handleSubmit}>Submit</Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default SchoolInfoAdd;"]},"metadata":{},"sourceType":"module"}