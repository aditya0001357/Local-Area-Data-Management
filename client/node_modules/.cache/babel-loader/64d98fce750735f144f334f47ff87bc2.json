{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\singh\\\\Downloads\\\\Local-Area-Website-DBMS--main\\\\Local-Area-Website-DBMS--main\\\\client\\\\src\\\\screens\\\\login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport Navbar from '../components/navbar/NavbarLogin';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport axios from 'axios';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Form from 'react-bootstrap/Form';\nimport Modal from 'react-bootstrap/Modal';\nimport '../style/style.css';\nimport { useSnackbar } from 'notistack';\nimport Visibility from '@material-ui/icons/VisibilityTwoTone';\nimport VisibilityOff from '@material-ui/icons/VisibilityOffTwoTone';\nimport IconButton from '@material-ui/core/IconButton';\nimport Lottie from 'lottie-react';\nimport welcomeBlue from '../animeFiles/welcomeBlue.json';\nconst useStyles = makeStyles(() => ({\n  margin: {\n    marginTop: '100px'\n  },\n  bottom: {\n    position: \"absolute\",\n    bottom: '5%',\n    width: '100vw'\n  }\n}));\n\nfunction Login() {\n  _s();\n\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  const [show, setShow] = useState(false);\n  const [login, setlogin] = useState(null);\n  const [name, setName] = useState('');\n  const [id, setId] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [showPass, setShowPass] = useState(false);\n\n  const handleOpen = () => setShow(true);\n\n  const handleClose = () => setShow(false);\n\n  const handleLogin = cond => setlogin(cond);\n\n  const handleSubmit = () => {\n    if (login) {\n      if (id === '' || email === '' || password === '') {\n        // alert('Please fill every field');\n        enqueueSnackbar('Please Fill Completely', {\n          variant: 'warning'\n        });\n      } else {\n        handleClose();\n        axios.post('http://localhost:4000/login', {\n          id,\n          email,\n          password\n        }).then(res => {\n          if (res.data === 'ERROR') {\n            //incomplete\n            // alert('incorrect details')\n            enqueueSnackbar('Error Thrown', {\n              variant: 'error'\n            });\n          } else if (res.data === 'zero') enqueueSnackbar('Please Register first', {\n            variant: 'error'\n          });else if (res.data === 'incorrect') enqueueSnackbar('Incorrect Details', {\n            variant: 'error'\n          });else {\n            // console.log(res.data);\n            // const pass = res.data[0].PASSWORD;\n            // const emai = res.data[0].EMAIL;\n            console.log(res.data[0].ISADMIN);\n\n            if (res.data[0].ISADMIN === '1' || res.data[0].ISADMIN === 1) {\n              window.location.assign(`http://localhost:3000/home?id=${id}&admin=${1}`);\n            } else {\n              console.log('fired here');\n              window.location.assign(`http://localhost:3000/home?id=${id}&admin=${0}`);\n            } // if (pass === password && emai === email) {\n            // }\n            // else {\n            //     alert('incorrect Detais')\n            // }\n\n\n            console.log(res.data);\n          }\n        }).catch(err => {\n          // setName('');\n          // setId('');\n          // setEmail('');\n          // setPassword('');\n          // alert('we are facing problem, make sure you are registered');\n          enqueueSnackbar('Problem, Are You registered', {\n            variant: 'warning'\n          });\n          console.log(err);\n        });\n      }\n    } else {\n      //register\n      if (name === '' || email === '' || password === '') {\n        // alert('Please fill every field');\n        enqueueSnackbar('Please Fill Completely', {\n          variant: 'warning'\n        });\n      } else {\n        handleClose();\n        axios.post('http://localhost:4000/register', {\n          name: name,\n          email: email,\n          password: password\n        }).then(res => {\n          if (res.data === 'ERROR') {\n            // alert('we are facing some problem');\n            enqueueSnackbar('Some Error Occured', {\n              variant: 'error'\n            });\n          } else {\n            // const pass = res.data[0].password;\n            const Pid = res.data; // if (pass === password) {\n\n            window.location.assign(`http://localhost:3000/home?id=${Pid}&admin=${0}`); // }\n            // else {\n            //     alert('incorrect Detais')\n            // }\n          }\n        }).catch(err => {\n          // setName('');\n          // setId('');\n          // setEmail('');\n          // setPassword('');\n          // alert('we are facing problem, make sure');\n          enqueueSnackbar('Error thrown', {\n            variant: 'error'\n          });\n        });\n      }\n    }\n\n    setId(\"\");\n    setName(\"\");\n    setEmail(\"\");\n    setPassword('');\n  };\n\n  const classes = useStyles();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-page\",\n    style: {\n      boxSizing: \"border-box\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      open: handleOpen,\n      login: handleLogin\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h2\",\n      align: \"center\",\n      className: classes.margin,\n      style: {\n        color: ':rgba(245, 241, 241, 0.959)'\n      },\n      children: \"Welcome to the Local Area Database\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-around',\n        flexWrap: 'wrap',\n        marginTop: '2%',\n        marginRight: '4%'\n      },\n      children: /*#__PURE__*/_jsxDEV(Lottie, {\n        animationData: welcomeBlue,\n        style: {\n          width: '40%'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: show,\n      onHide: handleClose,\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      className: \"login-modal\",\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: login ? 'Welcome Back' : 'Welcome, Happy to see you in this area'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          children: [login ? /*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Person ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              name: \"id\",\n              type: \"text\",\n              onChange: e => setId(e.target.value),\n              value: id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n              children: \"Required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              name: \"name\",\n              type: \"text\",\n              onChange: e => setName(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n              children: \"Required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              name: \"email\",\n              type: \"email\",\n              onChange: e => setEmail(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n              children: \"Required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              name: \"password\",\n              type: showPass ? 'text' : 'password',\n              value: password,\n              onChange: e => setPassword(e.target.value),\n              style: {\n                width: '90%'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n              style: {\n                position: 'absolute',\n                top: '80%',\n                right: '5%'\n              },\n              size: \"small\",\n              \"aria-label\": \"toggle password visibility\",\n              onClick: () => setShowPass(!showPass),\n              color: \"inherit\",\n              children: showPass ? /*#__PURE__*/_jsxDEV(Visibility, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 45\n              }, this) : /*#__PURE__*/_jsxDEV(VisibilityOff, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 62\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleClose,\n          color: \"secondary\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleSubmit,\n          color: \"primary\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 162,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"6z+j6u1zFlmAKgByDl/YXV5vlxc=\", false, function () {\n  return [useSnackbar, useStyles];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/singh/Downloads/Local-Area-Website-DBMS--main/Local-Area-Website-DBMS--main/client/src/screens/login.js"],"names":["React","useState","Navbar","Typography","makeStyles","Button","axios","Form","Modal","useSnackbar","Visibility","VisibilityOff","IconButton","Lottie","welcomeBlue","useStyles","margin","marginTop","bottom","position","width","Login","enqueueSnackbar","show","setShow","login","setlogin","name","setName","id","setId","email","setEmail","password","setPassword","showPass","setShowPass","handleOpen","handleClose","handleLogin","cond","handleSubmit","variant","post","then","res","data","console","log","ISADMIN","window","location","assign","catch","err","Pid","classes","boxSizing","color","display","justifyContent","flexWrap","marginRight","e","target","value","top","right"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport Navbar from '../components/navbar/NavbarLogin'\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport axios from 'axios'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport Form from 'react-bootstrap/Form'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport '../style/style.css'\r\nimport { useSnackbar } from 'notistack'\r\n\r\nimport Visibility from '@material-ui/icons/VisibilityTwoTone';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOffTwoTone';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nimport Lottie from 'lottie-react'\r\nimport welcomeBlue from '../animeFiles/welcomeBlue.json'\r\n\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    margin: {\r\n        marginTop: '100px',\r\n    },\r\n    bottom: {\r\n        position: \"absolute\",\r\n        bottom: '5%',\r\n        width: '100vw'\r\n    }\r\n}))\r\n\r\n\r\nfunction Login() {\r\n    const { enqueueSnackbar } = useSnackbar();\r\n\r\n    const [show, setShow] = useState(false);\r\n    const [login, setlogin] = useState(null);\r\n    const [name, setName] = useState('');\r\n    const [id, setId] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const [showPass, setShowPass] = useState(false);\r\n\r\n    const handleOpen = () => setShow(true);\r\n\r\n    const handleClose = () => setShow(false);\r\n\r\n    const handleLogin = (cond) => setlogin(cond);\r\n\r\n\r\n    const handleSubmit = () => {\r\n\r\n        if (login) {\r\n\r\n            if (id === '' || email === '' || password === '') {\r\n                // alert('Please fill every field');\r\n                enqueueSnackbar('Please Fill Completely', { variant: 'warning' })\r\n            }\r\n            else {\r\n\r\n                handleClose();\r\n\r\n                axios.post('http://localhost:4000/login', {\r\n                    id, email, password\r\n                })\r\n                    .then(res => {\r\n                        if (res.data === 'ERROR') {\r\n                            //incomplete\r\n                            // alert('incorrect details')\r\n                            enqueueSnackbar('Error Thrown', { variant: 'error' })\r\n\r\n                        }\r\n                        else if (res.data === 'zero') enqueueSnackbar('Please Register first', { variant: 'error' })\r\n                        else if (res.data === 'incorrect') enqueueSnackbar('Incorrect Details', { variant: 'error' })\r\n                        else {\r\n                            // console.log(res.data);\r\n                            // const pass = res.data[0].PASSWORD;\r\n                            // const emai = res.data[0].EMAIL;\r\n\r\n                            console.log(res.data[0].ISADMIN);\r\n\r\n                            if (res.data[0].ISADMIN === '1' || res.data[0].ISADMIN === 1) {\r\n                                window.location.assign(`http://localhost:3000/home?id=${id}&admin=${1}`)\r\n                            }\r\n                            else {\r\n                                console.log('fired here');\r\n                                window.location.assign(`http://localhost:3000/home?id=${id}&admin=${0}`)\r\n                            }\r\n                            // if (pass === password && emai === email) {\r\n                            // }\r\n                            // else {\r\n                            //     alert('incorrect Detais')\r\n                            // }\r\n                            console.log(res.data);\r\n                        }\r\n                    })\r\n                    .catch(err => {\r\n                        // setName('');\r\n                        // setId('');\r\n                        // setEmail('');\r\n                        // setPassword('');\r\n                        // alert('we are facing problem, make sure you are registered');\r\n                        enqueueSnackbar('Problem, Are You registered', { variant: 'warning' })\r\n\r\n                        console.log(err);\r\n                    })\r\n            }\r\n        }\r\n        else {\r\n            //register\r\n            if (name === '' || email === '' || password === '') {\r\n                // alert('Please fill every field');\r\n                enqueueSnackbar('Please Fill Completely', { variant: 'warning' })\r\n\r\n            }\r\n            else {\r\n                handleClose();\r\n                axios.post('http://localhost:4000/register', {\r\n                    name: name, email: email, password: password\r\n                })\r\n                    .then(res => {\r\n                        if (res.data === 'ERROR') {\r\n                            // alert('we are facing some problem');\r\n                            enqueueSnackbar('Some Error Occured', { variant: 'error' })\r\n\r\n                        }\r\n                        else {\r\n                            // const pass = res.data[0].password;\r\n                            const Pid = res.data;\r\n\r\n                            // if (pass === password) {\r\n                            window.location.assign(`http://localhost:3000/home?id=${Pid}&admin=${0}`)\r\n                            // }\r\n                            // else {\r\n                            //     alert('incorrect Detais')\r\n                            // }\r\n                        }\r\n                    })\r\n                    .catch(err => {\r\n                        // setName('');\r\n                        // setId('');\r\n                        // setEmail('');\r\n                        // setPassword('');\r\n                        // alert('we are facing problem, make sure');\r\n                        enqueueSnackbar('Error thrown', { variant: 'error' })\r\n\r\n                    })\r\n            }\r\n        }\r\n        setId(\"\");\r\n        setName(\"\");\r\n        setEmail(\"\");\r\n        setPassword('');\r\n    }\r\n\r\n    const classes = useStyles();\r\n\r\n\r\n    return (\r\n\r\n        <div className='login-page' style={{ boxSizing: \"border-box\" }}>\r\n            <Navbar open={handleOpen} login={handleLogin} />\r\n            <Typography variant='h2' align='center' className={classes.margin} style={{color:':rgba(245, 241, 241, 0.959)'}} >\r\n                Welcome to the Local Area Database\r\n            </Typography>\r\n\r\n            <div style={{ display: 'flex', justifyContent: 'space-around', flexWrap: 'wrap', marginTop: '2%', marginRight: '4%' }}>\r\n                <Lottie\r\n                    animationData={welcomeBlue}\r\n                    style={{ width: '40%' }}\r\n                />\r\n\r\n                \r\n\r\n\r\n\r\n            </div>\r\n\r\n            {/* <div className={classes.bottom}>\r\n                <Typography variant='h4' align='center' color=\"inherit\">\r\n                    Project by Mahendar Singh and Malappa Siddappa Koulapure\r\n            </Typography>\r\n\r\n                <Typography variant='h4' align=\"right\" style={{ marginRight: '5%' }}>\r\n                    -Guided by Samyama Maam\r\n            </Typography>\r\n            </div> */}\r\n\r\n            <Modal show={show} onHide={handleClose} aria-labelledby=\"contained-modal-title-vcenter\" className=\"login-modal\" >\r\n\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>{login ? 'Welcome Back' : 'Welcome, Happy to see you in this area'}</Modal.Title>\r\n                </Modal.Header>\r\n\r\n                <Modal.Body>\r\n                    <Form>\r\n                        {login ?\r\n                            <Form.Group>\r\n                                <Form.Label>Person ID</Form.Label>\r\n                                <Form.Control name='id' type=\"text\" onChange={(e) => setId(e.target.value)} value={id} />\r\n                                <Form.Text>Required</Form.Text>\r\n                            </Form.Group>\r\n                            :\r\n                            <Form.Group>\r\n                                <Form.Label>Name</Form.Label>\r\n                                <Form.Control name=\"name\" type=\"text\" onChange={(e) => setName(e.target.value)} />\r\n                                <Form.Text>Required</Form.Text>\r\n                            </Form.Group>\r\n                        }\r\n\r\n                        <Form.Group>\r\n                            <Form.Label>Email</Form.Label>\r\n                            <Form.Control name='email' type='email' onChange={(e) => setEmail(e.target.value)} />\r\n                            <Form.Text>Required</Form.Text>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group>\r\n                            <Form.Label>Password</Form.Label>\r\n                            <Form.Control name=\"password\" type={showPass ? 'text' : 'password'} value={password} onChange={(e) => setPassword(e.target.value)} style={{ width: '90%' }} />\r\n                            <IconButton\r\n                                style={{ position: 'absolute', top: '80%', right: '5%' }}\r\n                                size='small'\r\n                                aria-label=\"toggle password visibility\"\r\n                                onClick={() => setShowPass(!showPass)}\r\n                                color='inherit'\r\n                            >\r\n                                {showPass ? <Visibility /> : <VisibilityOff />}\r\n                            </IconButton>\r\n                        </Form.Group>\r\n                    </Form>\r\n                </Modal.Body>\r\n\r\n                <Modal.Footer>\r\n                    <Button onClick={handleClose} color='secondary'>\r\n                        Cancel\r\n                    </Button>\r\n                    <Button onClick={handleSubmit} color='primary'>\r\n                        Submit\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}