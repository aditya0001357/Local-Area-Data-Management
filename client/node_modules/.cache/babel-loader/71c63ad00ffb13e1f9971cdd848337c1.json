{"ast":null,"code":"import _slicedToArray from\"C:/Users/singh/Downloads/Local-Area-Website-DBMS--main/Local-Area-Website-DBMS--main/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState}from'react';import Navbar from'../components/navbar/NavbarLogin';import Typography from'@material-ui/core/Typography';import{makeStyles}from'@material-ui/core/styles';import Button from'@material-ui/core/Button';import axios from'axios';import'bootstrap/dist/css/bootstrap.min.css';import Form from'react-bootstrap/Form';import Modal from'react-bootstrap/Modal';import'../style/style.css';import{useSnackbar}from'notistack';import Visibility from'@material-ui/icons/VisibilityTwoTone';import VisibilityOff from'@material-ui/icons/VisibilityOffTwoTone';import IconButton from'@material-ui/core/IconButton';import Lottie from'lottie-react';import welcomeBlue from'../animeFiles/welcomeBlue.json';var useStyles=makeStyles(function(){return{margin:{marginTop:'100px'},bottom:{position:\"absolute\",bottom:'5%',width:'100vw'}};});function Login(){var _useSnackbar=useSnackbar(),enqueueSnackbar=_useSnackbar.enqueueSnackbar;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),login=_useState4[0],setlogin=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),name=_useState6[0],setName=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),id=_useState8[0],setId=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),email=_useState10[0],setEmail=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),password=_useState12[0],setPassword=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),showPass=_useState14[0],setShowPass=_useState14[1];var handleOpen=function handleOpen(){return setShow(true);};var handleClose=function handleClose(){return setShow(false);};var handleLogin=function handleLogin(cond){return setlogin(cond);};var handleSubmit=function handleSubmit(){if(login){if(id===''||email===''||password===''){// alert('Please fill every field');\nenqueueSnackbar('Please Fill Completely',{variant:'warning'});}else{handleClose();axios.post('http://localhost:4000/login',{id:id,email:email,password:password}).then(function(res){if(res.data==='ERROR'){//incomplete\n// alert('incorrect details')\nenqueueSnackbar('Error Thrown',{variant:'error'});}else if(res.data==='zero')enqueueSnackbar('Please Register first',{variant:'error'});else if(res.data==='incorrect')enqueueSnackbar('Incorrect Details',{variant:'error'});else{// console.log(res.data);\n// const pass = res.data[0].PASSWORD;\n// const emai = res.data[0].EMAIL;\nconsole.log(res.data[0].ISADMIN);if(res.data[0].ISADMIN==='1'||res.data[0].ISADMIN===1){window.location.assign(\"http://localhost:3000/home?id=\".concat(id,\"&admin=\",1));}else{console.log('fired here');window.location.assign(\"http://localhost:3000/home?id=\".concat(id,\"&admin=\",0));}// if (pass === password && emai === email) {\n// }\n// else {\n//     alert('incorrect Detais')\n// }\nconsole.log(res.data);}}).catch(function(err){// setName('');\n// setId('');\n// setEmail('');\n// setPassword('');\n// alert('we are facing problem, make sure you are registered');\nenqueueSnackbar('Problem, Are You registered',{variant:'warning'});console.log(err);});}}else{//register\nif(name===''||email===''||password===''){// alert('Please fill every field');\nenqueueSnackbar('Please Fill Completely',{variant:'warning'});}else{handleClose();axios.post('http://localhost:4000/register',{name:name,email:email,password:password}).then(function(res){if(res.data==='ERROR'){// alert('we are facing some problem');\nenqueueSnackbar('Some Error Occured',{variant:'error'});}else{// const pass = res.data[0].password;\nvar Pid=res.data;// if (pass === password) {\nwindow.location.assign(\"http://localhost:3000/home?id=\".concat(Pid,\"&admin=\",0));// }\n// else {\n//     alert('incorrect Detais')\n// }\n}}).catch(function(err){// setName('');\n// setId('');\n// setEmail('');\n// setPassword('');\n// alert('we are facing problem, make sure');\nenqueueSnackbar('Error thrown',{variant:'error'});});}}setId(\"\");setName(\"\");setEmail(\"\");setPassword('');};var classes=useStyles();return/*#__PURE__*/_jsxs(\"div\",{className:\"login-page\",style:{boxSizing:\"border-box\"},children:[/*#__PURE__*/_jsx(Navbar,{open:handleOpen,login:handleLogin}),/*#__PURE__*/_jsx(Typography,{variant:\"h2\",align:\"center\",className:classes.margin,style:{color:':rgba(245, 241, 241, 0.959)'},children:\"Welcome to the Local Area Database\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'space-around',flexWrap:'wrap',marginTop:'2%',marginRight:'4%'},children:/*#__PURE__*/_jsx(Lottie,{animationData:welcomeBlue,style:{width:'40%'}})}),/*#__PURE__*/_jsxs(Modal,{show:show,onHide:handleClose,\"aria-labelledby\":\"contained-modal-title-vcenter\",className:\"login-modal\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:login?'Welcome Back':'Welcome, Happy to see you in this area'})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(Form,{children:[login?/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Person ID\"}),/*#__PURE__*/_jsx(Form.Control,{name:\"id\",type:\"text\",onChange:function onChange(e){return setId(e.target.value);},value:id}),/*#__PURE__*/_jsx(Form.Text,{children:\"Required\"})]}):/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Name\"}),/*#__PURE__*/_jsx(Form.Control,{name:\"name\",type:\"text\",onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/_jsx(Form.Text,{children:\"Required\"})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email\"}),/*#__PURE__*/_jsx(Form.Control,{name:\"email\",type:\"email\",onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(Form.Text,{children:\"Required\"})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{name:\"password\",type:showPass?'text':'password',value:password,onChange:function onChange(e){return setPassword(e.target.value);},style:{width:'90%'}}),/*#__PURE__*/_jsx(IconButton,{style:{position:'absolute',top:'80%',right:'5%'},size:\"small\",\"aria-label\":\"toggle password visibility\",onClick:function onClick(){return setShowPass(!showPass);},color:\"inherit\",children:showPass?/*#__PURE__*/_jsx(Visibility,{}):/*#__PURE__*/_jsx(VisibilityOff,{})})]})]})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleClose,color:\"secondary\",children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:handleSubmit,color:\"primary\",children:\"Submit\"})]})]})]});}export default Login;","map":{"version":3,"sources":["C:/Users/singh/Downloads/Local-Area-Website-DBMS--main/Local-Area-Website-DBMS--main/client/src/screens/login.js"],"names":["React","useState","Navbar","Typography","makeStyles","Button","axios","Form","Modal","useSnackbar","Visibility","VisibilityOff","IconButton","Lottie","welcomeBlue","useStyles","margin","marginTop","bottom","position","width","Login","enqueueSnackbar","show","setShow","login","setlogin","name","setName","id","setId","email","setEmail","password","setPassword","showPass","setShowPass","handleOpen","handleClose","handleLogin","cond","handleSubmit","variant","post","then","res","data","console","log","ISADMIN","window","location","assign","catch","err","Pid","classes","boxSizing","color","display","justifyContent","flexWrap","marginRight","e","target","value","top","right"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport Navbar from '../components/navbar/NavbarLogin'\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport axios from 'axios'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport Form from 'react-bootstrap/Form'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport '../style/style.css'\r\nimport { useSnackbar } from 'notistack'\r\n\r\nimport Visibility from '@material-ui/icons/VisibilityTwoTone';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOffTwoTone';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nimport Lottie from 'lottie-react'\r\nimport welcomeBlue from '../animeFiles/welcomeBlue.json'\r\n\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    margin: {\r\n        marginTop: '100px',\r\n    },\r\n    bottom: {\r\n        position: \"absolute\",\r\n        bottom: '5%',\r\n        width: '100vw'\r\n    }\r\n}))\r\n\r\n\r\nfunction Login() {\r\n    const { enqueueSnackbar } = useSnackbar();\r\n\r\n    const [show, setShow] = useState(false);\r\n    const [login, setlogin] = useState(null);\r\n    const [name, setName] = useState('');\r\n    const [id, setId] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const [showPass, setShowPass] = useState(false);\r\n\r\n    const handleOpen = () => setShow(true);\r\n\r\n    const handleClose = () => setShow(false);\r\n\r\n    const handleLogin = (cond) => setlogin(cond);\r\n\r\n\r\n    const handleSubmit = () => {\r\n\r\n        if (login) {\r\n\r\n            if (id === '' || email === '' || password === '') {\r\n                // alert('Please fill every field');\r\n                enqueueSnackbar('Please Fill Completely', { variant: 'warning' })\r\n            }\r\n            else {\r\n\r\n                handleClose();\r\n\r\n                axios.post('http://localhost:4000/login', {\r\n                    id, email, password\r\n                })\r\n                    .then(res => {\r\n                        if (res.data === 'ERROR') {\r\n                            //incomplete\r\n                            // alert('incorrect details')\r\n                            enqueueSnackbar('Error Thrown', { variant: 'error' })\r\n\r\n                        }\r\n                        else if (res.data === 'zero') enqueueSnackbar('Please Register first', { variant: 'error' })\r\n                        else if (res.data === 'incorrect') enqueueSnackbar('Incorrect Details', { variant: 'error' })\r\n                        else {\r\n                            // console.log(res.data);\r\n                            // const pass = res.data[0].PASSWORD;\r\n                            // const emai = res.data[0].EMAIL;\r\n\r\n                            console.log(res.data[0].ISADMIN);\r\n\r\n                            if (res.data[0].ISADMIN === '1' || res.data[0].ISADMIN === 1) {\r\n                                window.location.assign(`http://localhost:3000/home?id=${id}&admin=${1}`)\r\n                            }\r\n                            else {\r\n                                console.log('fired here');\r\n                                window.location.assign(`http://localhost:3000/home?id=${id}&admin=${0}`)\r\n                            }\r\n                            // if (pass === password && emai === email) {\r\n                            // }\r\n                            // else {\r\n                            //     alert('incorrect Detais')\r\n                            // }\r\n                            console.log(res.data);\r\n                        }\r\n                    })\r\n                    .catch(err => {\r\n                        // setName('');\r\n                        // setId('');\r\n                        // setEmail('');\r\n                        // setPassword('');\r\n                        // alert('we are facing problem, make sure you are registered');\r\n                        enqueueSnackbar('Problem, Are You registered', { variant: 'warning' })\r\n\r\n                        console.log(err);\r\n                    })\r\n            }\r\n        }\r\n        else {\r\n            //register\r\n            if (name === '' || email === '' || password === '') {\r\n                // alert('Please fill every field');\r\n                enqueueSnackbar('Please Fill Completely', { variant: 'warning' })\r\n\r\n            }\r\n            else {\r\n                handleClose();\r\n                axios.post('http://localhost:4000/register', {\r\n                    name: name, email: email, password: password\r\n                })\r\n                    .then(res => {\r\n                        if (res.data === 'ERROR') {\r\n                            // alert('we are facing some problem');\r\n                            enqueueSnackbar('Some Error Occured', { variant: 'error' })\r\n\r\n                        }\r\n                        else {\r\n                            // const pass = res.data[0].password;\r\n                            const Pid = res.data;\r\n\r\n                            // if (pass === password) {\r\n                            window.location.assign(`http://localhost:3000/home?id=${Pid}&admin=${0}`)\r\n                            // }\r\n                            // else {\r\n                            //     alert('incorrect Detais')\r\n                            // }\r\n                        }\r\n                    })\r\n                    .catch(err => {\r\n                        // setName('');\r\n                        // setId('');\r\n                        // setEmail('');\r\n                        // setPassword('');\r\n                        // alert('we are facing problem, make sure');\r\n                        enqueueSnackbar('Error thrown', { variant: 'error' })\r\n\r\n                    })\r\n            }\r\n        }\r\n        setId(\"\");\r\n        setName(\"\");\r\n        setEmail(\"\");\r\n        setPassword('');\r\n    }\r\n\r\n    const classes = useStyles();\r\n\r\n\r\n    return (\r\n\r\n        <div className='login-page' style={{ boxSizing: \"border-box\" }}>\r\n            <Navbar open={handleOpen} login={handleLogin} />\r\n            <Typography variant='h2' align='center' className={classes.margin} style={{color:':rgba(245, 241, 241, 0.959)'}} >\r\n                Welcome to the Local Area Database\r\n            </Typography>\r\n\r\n            <div style={{ display: 'flex', justifyContent: 'space-around', flexWrap: 'wrap', marginTop: '2%', marginRight: '4%' }}>\r\n                <Lottie\r\n                    animationData={welcomeBlue}\r\n                    style={{ width: '40%' }}\r\n                />\r\n\r\n                \r\n\r\n\r\n\r\n            </div>\r\n\r\n            {/* <div className={classes.bottom}>\r\n                <Typography variant='h4' align='center' color=\"inherit\">\r\n                    Project by Mahendar Singh and Malappa Siddappa Koulapure\r\n            </Typography>\r\n\r\n                <Typography variant='h4' align=\"right\" style={{ marginRight: '5%' }}>\r\n                    -Guided by Samyama Maam\r\n            </Typography>\r\n            </div> */}\r\n\r\n            <Modal show={show} onHide={handleClose} aria-labelledby=\"contained-modal-title-vcenter\" className=\"login-modal\" >\r\n\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>{login ? 'Welcome Back' : 'Welcome, Happy to see you in this area'}</Modal.Title>\r\n                </Modal.Header>\r\n\r\n                <Modal.Body>\r\n                    <Form>\r\n                        {login ?\r\n                            <Form.Group>\r\n                                <Form.Label>Person ID</Form.Label>\r\n                                <Form.Control name='id' type=\"text\" onChange={(e) => setId(e.target.value)} value={id} />\r\n                                <Form.Text>Required</Form.Text>\r\n                            </Form.Group>\r\n                            :\r\n                            <Form.Group>\r\n                                <Form.Label>Name</Form.Label>\r\n                                <Form.Control name=\"name\" type=\"text\" onChange={(e) => setName(e.target.value)} />\r\n                                <Form.Text>Required</Form.Text>\r\n                            </Form.Group>\r\n                        }\r\n\r\n                        <Form.Group>\r\n                            <Form.Label>Email</Form.Label>\r\n                            <Form.Control name='email' type='email' onChange={(e) => setEmail(e.target.value)} />\r\n                            <Form.Text>Required</Form.Text>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group>\r\n                            <Form.Label>Password</Form.Label>\r\n                            <Form.Control name=\"password\" type={showPass ? 'text' : 'password'} value={password} onChange={(e) => setPassword(e.target.value)} style={{ width: '90%' }} />\r\n                            <IconButton\r\n                                style={{ position: 'absolute', top: '80%', right: '5%' }}\r\n                                size='small'\r\n                                aria-label=\"toggle password visibility\"\r\n                                onClick={() => setShowPass(!showPass)}\r\n                                color='inherit'\r\n                            >\r\n                                {showPass ? <Visibility /> : <VisibilityOff />}\r\n                            </IconButton>\r\n                        </Form.Group>\r\n                    </Form>\r\n                </Modal.Body>\r\n\r\n                <Modal.Footer>\r\n                    <Button onClick={handleClose} color='secondary'>\r\n                        Cancel\r\n                    </Button>\r\n                    <Button onClick={handleSubmit} color='primary'>\r\n                        Submit\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}