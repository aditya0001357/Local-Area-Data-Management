{"ast":null,"code":"import _slicedToArray from\"C:/Users/singh/Downloads/Local-Area-Website-DBMS--main/Local-Area-Website-DBMS--main/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState,useEffect}from'react';import'bootstrap/dist/css/bootstrap.min.css';import Form from'react-bootstrap/Form';import Modal from'react-bootstrap/Modal';import Button from'@material-ui/core/Button';import Axios from'axios';// import { SnackbarProvider} from 'notistack';\n// import Snack from '../Snack'\nimport{useSnackbar}from'notistack';function BankInfoAdd(props){var _useSnackbar=useSnackbar(),enqueueSnackbar=_useSnackbar.enqueueSnackbar;var handleClose=function handleClose(){return props.close();};var _useState=useState([]),_useState2=_slicedToArray(_useState,2),banks=_useState2[0],setBanks=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),selectedBank=_useState4[0],setSelectedBank=_useState4[1];// const [notify,setNotify]=useState({\n//     open:false,\n//     variant:''\n// })\nuseEffect(function(){Axios.get('http://localhost:4000/banks').then(function(res){setBanks(res.data);}).catch(function(err){enqueueSnackbar(\"Error thrown\",{variant:'error'});});},[]);var handleSubmit=function handleSubmit(){if(selectedBank===''){// alert('please select a Bank');\nenqueueSnackbar(\"Please Select a bank\",{variant:'error'});}else{props.close();Axios.post('http://localhost:4000/bankadd',{Pid:props.Pid,bank_id:selectedBank}).then(function(res){if(res.data==='ERROR'){// alert('Opening of bank account unsuccesfull');\nenqueueSnackbar(\"You May Already have a account in this bank\",{variant:'error'});}else{// alert('Your Bank Account opened succesfully');\nenqueueSnackbar(\"Opened Succesflly\",{variant:'success'});props.update(res.data);}}).catch(function(err){enqueueSnackbar(\"Error occured\",{variant:'error'});});}};return/*#__PURE__*/ (// <>\n// <SnackbarProvider maxSnack={3}>\n//     {/* {notify.open && <Snack variant={notify.variant}/>} */}\n// </SnackbarProvider>\n_jsxs(Modal,{show:props.show,onHide:handleClose,\"aria-labelledby\":\"contained-modal-title-vcenter\",style:{marginTop:\"40px\"},children:[/*#__PURE__*/_jsx(Modal.Header,{children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Add your Bank Details\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Select the bank to open an account\"}),/*#__PURE__*/_jsxs(Form.Control,{name:\"Bank_Id\",as:\"select\",onChange:function onChange(e){return setSelectedBank(e.target.value);},children:[banks.map(function(bank){return/*#__PURE__*/_jsx(\"option\",{value:bank.BANK_ID,children:bank.BANK_ID+\"  \"+bank.NAME});}),/*#__PURE__*/_jsx(\"option\",{selected:true,value:'',children:\"Select\"})]})]})})}),/*#__PURE__*/_jsx(Button,{color:\"secondary\",onClick:handleClose,children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{color:\"primary\",onClick:handleSubmit,children:\"Submit\"}),/*#__PURE__*/_jsx(Modal.Footer,{})]})// </>\n);}export default BankInfoAdd;","map":{"version":3,"sources":["C:/Users/singh/Downloads/Local-Area-Website-DBMS--main/Local-Area-Website-DBMS--main/client/src/components/modal/BankInfoAdd.js"],"names":["React","useState","useEffect","Form","Modal","Button","Axios","useSnackbar","BankInfoAdd","props","enqueueSnackbar","handleClose","close","banks","setBanks","selectedBank","setSelectedBank","get","then","res","data","catch","err","variant","handleSubmit","post","Pid","bank_id","update","show","marginTop","e","target","value","map","bank","BANK_ID","NAME"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport Form from 'react-bootstrap/Form'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Button from '@material-ui/core/Button'\r\nimport Axios from 'axios';\r\n// import { SnackbarProvider} from 'notistack';\r\n// import Snack from '../Snack'\r\n\r\nimport { useSnackbar } from 'notistack';\r\n\r\n\r\n\r\n\r\nfunction BankInfoAdd(props) {\r\n\r\n    const { enqueueSnackbar } = useSnackbar();\r\n\r\n    const handleClose = () => props.close();\r\n\r\n    const [banks, setBanks] = useState([]);\r\n    const [selectedBank, setSelectedBank] = useState('');\r\n    // const [notify,setNotify]=useState({\r\n    //     open:false,\r\n    //     variant:''\r\n    // })\r\n\r\n    useEffect(() => {\r\n        Axios.get('http://localhost:4000/banks')\r\n            .then(res => {\r\n                setBanks(res.data);\r\n\r\n            })\r\n            .catch(err => {\r\n                enqueueSnackbar(\"Error thrown\", { variant: 'error' });\r\n            })\r\n    }, [])\r\n\r\n    const handleSubmit = () => {\r\n\r\n        if (selectedBank === '') {\r\n            // alert('please select a Bank');\r\n            enqueueSnackbar(\"Please Select a bank\", { variant: 'error' });\r\n        }\r\n        else {\r\n            props.close();\r\n            Axios.post('http://localhost:4000/bankadd', {\r\n                Pid: props.Pid,\r\n                bank_id: selectedBank,\r\n            })\r\n                .then(res => {\r\n                    if (res.data === 'ERROR') {\r\n                        // alert('Opening of bank account unsuccesfull');\r\n                        enqueueSnackbar(\"You May Already have a account in this bank\", { variant: 'error' });\r\n\r\n                    }\r\n                    else {\r\n                        // alert('Your Bank Account opened succesfully');\r\n                        enqueueSnackbar(\"Opened Succesflly\", { variant: 'success' });\r\n\r\n                        props.update(res.data)\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    enqueueSnackbar(\"Error occured\", { variant: 'error' });\r\n                })\r\n        }\r\n    }\r\n\r\n    return (\r\n        // <>\r\n        // <SnackbarProvider maxSnack={3}>\r\n        //     {/* {notify.open && <Snack variant={notify.variant}/>} */}\r\n        // </SnackbarProvider>\r\n        <Modal show={props.show} onHide={handleClose} aria-labelledby=\"contained-modal-title-vcenter\" style={{ marginTop: \"40px\" }}>\r\n            <Modal.Header>\r\n                <Modal.Title>Add your Bank Details</Modal.Title>\r\n            </Modal.Header>\r\n\r\n            <Modal.Body>\r\n                <Form>\r\n                    <Form.Group>\r\n                        <Form.Label>Select the bank to open an account</Form.Label>\r\n                        <Form.Control name=\"Bank_Id\" as='select' onChange={(e) => setSelectedBank(e.target.value)}>\r\n                            {banks.map(bank => {\r\n                                return (\r\n                                    <option value={bank.BANK_ID}>{bank.BANK_ID + \"  \" + bank.NAME}</option>\r\n                                )\r\n                            })}\r\n                            <option selected value={''}>Select</option>\r\n                        </Form.Control>\r\n                    </Form.Group>\r\n                </Form>\r\n            </Modal.Body>\r\n            <Button color=\"secondary\" onClick={handleClose}>Cancel</Button>\r\n            <Button color=\"primary\" onClick={handleSubmit}>Submit</Button>\r\n            <Modal.Footer>\r\n\r\n            </Modal.Footer>\r\n        </Modal>\r\n        // </>\r\n    )\r\n}\r\n\r\nexport default BankInfoAdd;"]},"metadata":{},"sourceType":"module"}